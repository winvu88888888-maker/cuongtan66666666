{
    "name": "üè≠ AI FACTORY - Master Workflow",
    "nodes": [
        {
            "parameters": {
                "httpMethod": "POST",
                "path": "ai-factory",
                "responseMode": "responseNode",
                "options": {}
            },
            "id": "webhook-master",
            "name": "üì• Nh·∫≠n Y√™u C·∫ßu",
            "type": "n8n-nodes-base.webhook",
            "typeVersion": 1,
            "position": [
                250,
                400
            ]
        },
        {
            "parameters": {
                "url": "http://localhost:8501/api/analyze",
                "method": "POST",
                "sendBody": true,
                "bodyParameters": {
                    "parameters": [
                        {
                            "name": "request",
                            "value": "={{ $json.body.request }}"
                        }
                    ]
                },
                "options": {}
            },
            "id": "http-secretary",
            "name": "ü§ñ AI Secretary",
            "type": "n8n-nodes-base.httpRequest",
            "typeVersion": 3,
            "position": [
                450,
                300
            ]
        },
        {
            "parameters": {
                "jsCode": "// Ph√¢n t√≠ch k·∫øt qu·∫£ t·ª´ Secretary\nconst analysis = $input.item.json;\n\n// Quy·∫øt ƒë·ªãnh workflow ti·∫øp theo\nconst complexity = analysis.estimated_complexity || 'Medium';\nconst requirements = analysis.parsed_requirements || [];\n\nreturn [{\n  json: {\n    analysis: analysis,\n    next_step: 'qmdg_consult',\n    complexity: complexity,\n    requirements: requirements,\n    timestamp: new Date().toISOString()\n  }\n}];"
            },
            "id": "code-decision",
            "name": "üéØ Ph√¢n T√≠ch & Quy·∫øt ƒê·ªãnh",
            "type": "n8n-nodes-base.code",
            "typeVersion": 2,
            "position": [
                650,
                300
            ]
        },
        {
            "parameters": {
                "url": "http://localhost:8501/api/qmdg-consult",
                "method": "POST",
                "sendBody": true,
                "bodyParameters": {
                    "parameters": [
                        {
                            "name": "topic",
                            "value": "Ph√°t tri·ªÉn ph·∫ßn m·ªÅm"
                        },
                        {
                            "name": "question",
                            "value": "={{ $json.analysis.original_request }}"
                        }
                    ]
                }
            },
            "id": "http-qmdg",
            "name": "üîÆ T∆∞ V·∫•n QMDG",
            "type": "n8n-nodes-base.httpRequest",
            "typeVersion": 3,
            "position": [
                850,
                300
            ]
        },
        {
            "parameters": {
                "url": "http://localhost:8501/api/create-plan",
                "method": "POST",
                "sendBody": true,
                "bodyParameters": {
                    "parameters": [
                        {
                            "name": "analysis",
                            "value": "={{ JSON.stringify($('üéØ Ph√¢n T√≠ch & Quy·∫øt ƒê·ªãnh').item.json.analysis) }}"
                        },
                        {
                            "name": "qmdg_result",
                            "value": "={{ JSON.stringify($json) }}"
                        }
                    ]
                }
            },
            "id": "http-plan",
            "name": "üìã T·∫°o K·∫ø Ho·∫°ch",
            "type": "n8n-nodes-base.httpRequest",
            "typeVersion": 3,
            "position": [
                1050,
                300
            ]
        },
        {
            "parameters": {
                "url": "http://localhost:8501/api/generate-code",
                "method": "POST",
                "sendBody": true,
                "bodyParameters": {
                    "parameters": [
                        {
                            "name": "plan",
                            "value": "={{ JSON.stringify($json) }}"
                        }
                    ]
                }
            },
            "id": "http-codegen",
            "name": "‚úçÔ∏è AI Code Writer",
            "type": "n8n-nodes-base.httpRequest",
            "typeVersion": 3,
            "position": [
                1250,
                300
            ]
        },
        {
            "parameters": {
                "url": "http://localhost:8501/api/fix-code",
                "method": "POST",
                "sendBody": true,
                "bodyParameters": {
                    "parameters": [
                        {
                            "name": "code_result",
                            "value": "={{ JSON.stringify($json) }}"
                        }
                    ]
                }
            },
            "id": "http-fixer",
            "name": "üîß AI Code Fixer",
            "type": "n8n-nodes-base.httpRequest",
            "typeVersion": 3,
            "position": [
                1450,
                300
            ]
        },
        {
            "parameters": {
                "url": "http://localhost:8501/api/test-code",
                "method": "POST",
                "sendBody": true,
                "bodyParameters": {
                    "parameters": [
                        {
                            "name": "fixed_code",
                            "value": "={{ JSON.stringify($json) }}"
                        }
                    ]
                }
            },
            "id": "http-tester",
            "name": "üß™ AI Tester",
            "type": "n8n-nodes-base.httpRequest",
            "typeVersion": 3,
            "position": [
                1650,
                300
            ]
        },
        {
            "parameters": {
                "url": "http://localhost:8501/api/package",
                "method": "POST",
                "sendBody": true,
                "bodyParameters": {
                    "parameters": [
                        {
                            "name": "test_result",
                            "value": "={{ JSON.stringify($json) }}"
                        }
                    ]
                }
            },
            "id": "http-packager",
            "name": "üì¶ AI Packager",
            "type": "n8n-nodes-base.httpRequest",
            "typeVersion": 3,
            "position": [
                1850,
                300
            ]
        },
        {
            "parameters": {
                "jsCode": "// T·ªïng h·ª£p k·∫øt qu·∫£ cu·ªëi c√πng\nconst finalResult = {\n  success: true,\n  request: $('üì• Nh·∫≠n Y√™u C·∫ßu').item.json.body.request,\n  analysis: $('üéØ Ph√¢n T√≠ch & Quy·∫øt ƒê·ªãnh').item.json.analysis,\n  qmdg: $('üîÆ T∆∞ V·∫•n QMDG').item.json,\n  plan: $('üìã T·∫°o K·∫ø Ho·∫°ch').item.json,\n  code: $('‚úçÔ∏è AI Code Writer').item.json,\n  fixes: $('üîß AI Code Fixer').item.json,\n  tests: $('üß™ AI Tester').item.json,\n  package: $json,\n  timestamp: new Date().toISOString(),\n  workflow: 'AI Factory Master'\n};\n\nreturn [{ json: finalResult }];"
            },
            "id": "code-final",
            "name": "üìä T·ªïng H·ª£p K·∫øt Qu·∫£",
            "type": "n8n-nodes-base.code",
            "typeVersion": 2,
            "position": [
                2050,
                300
            ]
        },
        {
            "parameters": {
                "respondWith": "json",
                "responseBody": "={{ JSON.stringify($json, null, 2) }}"
            },
            "id": "respond-final",
            "name": "‚úÖ Tr·∫£ K·∫øt Qu·∫£",
            "type": "n8n-nodes-base.respondToWebhook",
            "typeVersion": 1,
            "position": [
                2250,
                300
            ]
        },
        {
            "parameters": {
                "url": "http://localhost:8501/api/save-memory",
                "method": "POST",
                "sendBody": true,
                "bodyParameters": {
                    "parameters": [
                        {
                            "name": "result",
                            "value": "={{ JSON.stringify($('üìä T·ªïng H·ª£p K·∫øt Qu·∫£').item.json) }}"
                        }
                    ]
                }
            },
            "id": "http-memory",
            "name": "üíæ L∆∞u V√†o Memory",
            "type": "n8n-nodes-base.httpRequest",
            "typeVersion": 3,
            "position": [
                2050,
                500
            ]
        }
    ],
    "connections": {
        "üì• Nh·∫≠n Y√™u C·∫ßu": {
            "main": [
                [
                    {
                        "node": "ü§ñ AI Secretary",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "ü§ñ AI Secretary": {
            "main": [
                [
                    {
                        "node": "üéØ Ph√¢n T√≠ch & Quy·∫øt ƒê·ªãnh",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "üéØ Ph√¢n T√≠ch & Quy·∫øt ƒê·ªãnh": {
            "main": [
                [
                    {
                        "node": "üîÆ T∆∞ V·∫•n QMDG",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "üîÆ T∆∞ V·∫•n QMDG": {
            "main": [
                [
                    {
                        "node": "üìã T·∫°o K·∫ø Ho·∫°ch",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "üìã T·∫°o K·∫ø Ho·∫°ch": {
            "main": [
                [
                    {
                        "node": "‚úçÔ∏è AI Code Writer",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "‚úçÔ∏è AI Code Writer": {
            "main": [
                [
                    {
                        "node": "üîß AI Code Fixer",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "üîß AI Code Fixer": {
            "main": [
                [
                    {
                        "node": "üß™ AI Tester",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "üß™ AI Tester": {
            "main": [
                [
                    {
                        "node": "üì¶ AI Packager",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "üì¶ AI Packager": {
            "main": [
                [
                    {
                        "node": "üìä T·ªïng H·ª£p K·∫øt Qu·∫£",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "üìä T·ªïng H·ª£p K·∫øt Qu·∫£": {
            "main": [
                [
                    {
                        "node": "‚úÖ Tr·∫£ K·∫øt Qu·∫£",
                        "type": "main",
                        "index": 0
                    }
                ],
                [
                    {
                        "node": "üíæ L∆∞u V√†o Memory",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        }
    },
    "settings": {
        "executionOrder": "v1"
    },
    "active": true,
    "tags": [
        "ai-factory",
        "master",
        "automation"
    ]
}